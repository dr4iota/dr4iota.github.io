import{r as l,j as e,R as O,i as G,P as q,c as b,z as $,E as X,g as J,F as Q,a as Y,b as Z,d as K,e as ee,f as te,h as re,L as se,k as W,q as ne,l as ae,m as oe,n as ie,o as le}from"./other-D3da0Q8A.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const t of a)if(t.type==="childList")for(const u of t.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const t={};return a.integrity&&(t.integrity=a.integrity),a.referrerPolicy&&(t.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?t.credentials="include":a.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(a){if(a.ep)return;a.ep=!0;const t=n(a);fetch(a.href,t)}})();const z=l.createContext(void 0),ce=({children:o})=>{const[r,n]=l.useState(()=>{if(typeof window<"u"){const t=localStorage.getItem("theme");return t==="light"||t==="dark"?t:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}return"light"});l.useEffect(()=>{const t=window.document.documentElement;r==="dark"?t.classList.add("dark"):t.classList.remove("dark")},[r]);const i=()=>{n(t=>t==="light"?"dark":"light")},a=l.useMemo(()=>({theme:r,toggleTheme:i}),[r]);return e.jsx(z.Provider,{value:a,children:o})},C=()=>{const o=l.useContext(z);if(o===void 0)throw new Error("useTheme must be used within a ThemeProvider");return o},S=o=>{if(o.startsWith("#")||o.startsWith("/"))return!1;try{return new URL(o,window.location.origin).hostname!==window.location.hostname}catch{return!1}},I={sm:{button:"px-2 py-1 text-xs",item:"px-3 py-1 text-xs"},md:{button:"px-3 py-1.5 text-sm",item:"px-4 py-2 text-sm"},lg:{button:"px-4 py-2 text-base",item:"px-4 py-2 text-base"},xl:{button:"px-6 py-3 text-lg",item:"px-5 py-2.5 text-lg"}},R=({label:o,options:r,selected:n,onChange:i,theme:a,size:t="md",align:u="left",icon:x,showIconOnly:c,trigger:w,buttonClassName:y})=>{const j=l.useRef(null),[k,L]=l.useState({}),v=C?.(),m=a??v?.theme??"light",A=()=>{if(j.current){const s=j.current.getBoundingClientRect(),p={top:`${s.bottom+4}px`,minWidth:`${s.width}px`};u==="left"?p.left=`${s.left}px`:p.right=`${window.innerWidth-s.right}px`,L(p)}},N=t==="sm"?"h-4 w-4":t==="md"||t==="lg"?"h-5 w-5":"h-6 w-6",g=r?.find(s=>s?.name===n)?.icon??x,h=(()=>{if(c&&x&&O.isValidElement(x)){const s=x.props?.className;if(s&&(s.includes("h-")||s.includes("w-")))return s}return N})();return e.jsxs(G,{as:"div",className:"relative",children:[e.jsx(q,{ref:j,onClick:A,className:b(w?y:c?["p-2 rounded-full focus:outline-none",m==="dark"?"hover:bg-gray-700":"hover:bg-gray-100"]:["flex justify-between items-center w-full rounded-md border shadow-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2",I[t].button,m==="dark"?"border-gray-700 bg-gray-800 text-white hover:bg-gray-700 focus:ring-offset-gray-900 focus:ring-indigo-500":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-offset-gray-100 focus:ring-indigo-500"]),children:w||(c?e.jsx("span",{className:b(h,"flex items-center justify-center","[&>img]:h-full [&>img]:w-full [&>img]:object-contain","[&>svg]:h-full [&>svg]:w-full"),children:g}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"flex items-center truncate",children:[g&&e.jsx("span",{className:b(N,"mr-2 flex items-center justify-center","[&>img]:h-full [&>img]:w-full [&>img]:object-contain","[&>svg]:h-full [&>svg]:w-full"),children:g}),o&&`${o}: `,e.jsx("strong",{children:n})]}),e.jsx("span",{className:"ml-2 text-xs",children:"▼"})]}))}),e.jsx($,{as:l.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:e.jsx(X,{style:k,className:b("fixed z-50 mt-1 w-auto rounded-md shadow-lg ring-1 ring-opacity-5 focus:outline-none",{"origin-top-left":u==="left","origin-top-right":u==="right"},m==="dark"?"bg-gray-800 ring-gray-400 border border-gray-600":"bg-white ring-black"),children:e.jsx("div",{className:"py-1",children:r.map((s,p)=>{const E=s.key??s.value??s.name??p,_=!!s.href,f=s.href?S(s.href):!1;return e.jsx(J,{children:({focus:T})=>_?e.jsxs("a",{href:s.href,target:f?"_blank":"_self",rel:"noopener noreferrer",className:b("flex items-center justify-between w-full whitespace-nowrap",I[t].item,T?m==="dark"?"bg-gray-700 text-white":"bg-gray-100 text-gray-900":m==="dark"?"text-gray-300":"text-gray-700"),children:[e.jsxs("div",{className:"flex items-center",children:[s.icon&&e.jsx("span",{className:"mr-3 h-5 w-5",children:s.icon}),s.name]}),f&&e.jsx(Q,{className:"h-4 w-4"})]}):e.jsx("button",{onClick:()=>i&&i(s.value),className:b("w-full text-left block whitespace-nowrap",I[t].item,T?m==="dark"?"bg-gray-700 text-white":"bg-gray-100 text-gray-900":m==="dark"?"text-gray-300":"text-gray-700"),children:e.jsxs("div",{className:"flex items-center",children:[s.icon&&e.jsx("span",{className:"mr-3 h-5 w-5",children:s.icon}),s.name]})})},E)})})})})]})},de=({client:o,slot:r,style:n={display:"block"},format:i="auto",responsive:a="true"})=>(l.useEffect(()=>{try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(t){console.error("AdSense error:",t)}},[]),e.jsx("ins",{className:"adsbygoogle",style:n,"data-ad-client":o,"data-ad-slot":r,"data-ad-format":i,"data-full-width-responsive":a})),H=l.createContext(void 0),he=({children:o,defaultLanguage:r="en",storageKey:n="language"})=>{const[i,a]=l.useState(()=>{if(typeof window<"u"){const c=localStorage.getItem(n);if(c==="en"||c==="zh")return c;if((navigator?.language?.toLowerCase()||"").startsWith("zh"))return"zh"}return r});l.useEffect(()=>{typeof window<"u"&&localStorage.setItem(n,i)},[i,n]);const t=c=>a(c),u=()=>a(c=>c==="en"?"zh":"en"),x=l.useMemo(()=>({language:i,setLanguage:t,toggleLanguage:u}),[i]);return e.jsx(H.Provider,{value:x,children:o})},ue=()=>{const o=l.useContext(H);if(!o)throw new Error("useLanguage must be used within a LanguageProvider");return o},me=({appName:o,help:r,config:n,showUserProfile:i,renderToolbar:a,showLanguage:t,language:u,onLanguageChange:x,appIconUrl:c,showTitle:w=!0,toolbarWidthPx:y=0})=>{const{theme:j,toggleTheme:k}=C(),{setLanguage:L}=ue(),v=()=>{if(!r)return null;const d=e.jsx(te,{className:"h-8 w-8"});if(typeof r=="string")return e.jsx("a",{href:r,target:S(r)?"_blank":"_self",rel:"noopener noreferrer",className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:d});if(Array.isArray(r)&&r.length>0){const g=r.map(h=>({name:h.name,href:h.href,icon:h.icon}));return e.jsx(R,{options:g,align:"right",size:"md",icon:d,showIconOnly:!0})}return null},m=()=>{if(!n)return null;const d=e.jsx(re,{className:"h-8 w-8"});if(typeof n=="string")return e.jsx("a",{href:n,target:S(n)?"_blank":"_self",rel:"noopener noreferrer",className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:d});if(Array.isArray(n)&&n.length>0){const g=n.map(h=>({name:h.name,href:h.href,icon:h.icon}));return e.jsx(R,{options:g,align:"right",size:"md",icon:d,showIconOnly:!0})}return null},A=d=>{x?.(d);try{L(d)}catch{}},N=()=>t?e.jsx(R,{options:[{name:"English",value:"en"},{name:"中文",value:"zh"}],align:"right",size:"md",icon:e.jsx(ee,{className:"h-8 w-8"}),showIconOnly:!0,onChange:d=>A(d)}):null;return e.jsxs("header",{className:"bg-gray-100 dark:bg-gray-800 pt-4 pb-1 px-4 flex items-center border-b border-gray-200 dark:border-gray-700 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c&&e.jsx("img",{src:c,alt:"App icon",className:"h-12 w-12 rounded"}),w&&e.jsx("h1",{className:"text-xl font-bold truncate",children:o})]}),e.jsx("div",{className:"flex-1 min-w-0",children:typeof a=="function"?a(y):null}),e.jsxs("nav",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:k,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:j==="light"?e.jsx(Y,{className:"h-8 w-8"}):e.jsx(Z,{className:"h-8 w-8"})}),N(),v(),m(),i&&e.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(K,{className:"h-8 w-8"})})]})]})},ge=({children:o,adSenseConfig:r,...n})=>{const[i,a]=l.useState(!0),[t,u]=l.useState("medium"),[x,c]=l.useState(typeof window<"u"?window.innerWidth:0),w=r?.client&&r?.slot,y=!!n.renderToolbar,j=window?.__TAURI__&&/android/i.test(navigator.userAgent);l.useEffect(()=>{const d=()=>{const s=(window.visualViewport?.height??window.innerHeight)*.01;document.documentElement.style.setProperty("--vh",`${s}px`)},g=()=>{a(y||(window.visualViewport?.height??window.innerHeight)>=600);const s=window.innerWidth;c(s);const p=s<640,E=s>=1280;u(p?"narrow":E?"wide":"medium"),d()};g();const h=window.visualViewport??window;return h.addEventListener("resize",g),()=>{h.removeEventListener("resize",g)}},[]);const k=w?r?.height??90:0,L=w?r?.width??300:0,v=w&&t==="wide",m=t==="narrow"?!1:t==="wide"?!0:!y,A=()=>{const d=x,g=32,h=12,s=48,p=8,E=n.appIconUrl?32:0,_=220;let f=0;f+=1,n.showLanguage&&(f+=1);const T=n.help;(typeof T=="string"||Array.isArray(T)&&T.length>0)&&(f+=1);const F=n.config;(typeof F=="string"||Array.isArray(F)&&F.length>0)&&(f+=1),n.showUserProfile&&(f+=1);const P=f>0?f*s+(f-1)*p:0,M=m&&E>0?8:0,D=m?_:0,U=E+M+D,B=y?2*h:h,V=d-g-U-P-B;return Math.max(0,V)},N=e.jsxs("div",{className:"w-full h-full flex flex-col bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100 overflow-hidden",style:j?{paddingTop:16,paddingBottom:12}:void 0,children:[i&&e.jsx(me,{...n,showTitle:m,toolbarWidthPx:y?A():0}),e.jsx("main",{className:"flex-grow min-h-0 p-0 md:p-2",children:o})]});return w?e.jsxs("div",{className:"flex items-stretch flex-"+(v?"row":"col"),children:[e.jsx("div",{className:v?"h-screen":"w-screen",style:v?{width:`calc(100vw - ${L}px)`}:{height:`calc(100vh - ${k}px)`},children:N}),e.jsx("div",{style:v?{width:`${L}px`}:{height:`${k}px`},children:e.jsx(de,{client:r.client,slot:r.slot})})]}):e.jsx("div",{className:"w-screen h-screen",children:N})},fe=({isOpen:o,onClose:r,title:n,children:i,size:a="lg"})=>{const{theme:t}=C(),u=x=>{switch(x){case"sm":return"w-80 max-w-sm max-h-60";case"md":return"w-10/12 max-w-2xl max-h-[70vh]";case"lg":return"w-11/12 max-w-4xl max-h-[80vh]";case"xl":return"w-full max-w-6xl max-h-[90vh]";default:return"w-11/12 max-w-4xl max-h-[80vh]"}};return e.jsx($,{appear:!0,show:o,as:l.Fragment,children:e.jsxs(se,{as:"div",className:b("relative z-50",t),onClose:r,children:[e.jsx(W,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-0 text-center",children:e.jsx(W,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(ne,{className:b(u(a),"transform rounded-2xl bg-white dark:bg-gray-800 p-6 text-left align-middle shadow-xl transition-all flex flex-col border border-gray-200 dark:border-gray-600 overflow-y-hidden"),children:[e.jsx(ae,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 dark:text-gray-100",children:n}),e.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(oe,{className:"h-6 w-6 text-gray-900 dark:text-gray-100"})}),e.jsx("div",{className:"mt-4 flex-1 text-gray-900 dark:text-gray-100 overflow-y-auto",children:i})]})})})})]})})};var xe={client:"ca-pub-5400548434612970",slot:"5745481735"};const we=[{key:"about",name:"About",href:"#about",icon:e.jsx(ie,{})},{key:"docs",name:"Documentation",href:"https://example.com/docs"}],pe="https://example.com/config";function ye(){const[o,r]=l.useState(!1);l.useEffect(()=>{const i=()=>{window.location.hash==="#about"&&r(!0)};return window.addEventListener("hashchange",i),i(),()=>{window.removeEventListener("hashchange",i)}},[]);const n=()=>{r(!1),window.location.hash==="#about"&&history.pushState("",document.title,window.location.pathname+window.location.search)};return e.jsxs(e.Fragment,{children:[e.jsx(ge,{appName:"Example Webapp",appIconUrl:"app-icon.png",help:we,config:pe,showUserProfile:!0,showLanguage:!0,adSenseConfig:xe,children:e.jsxs("div",{className:"p-2 md:p-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Welcome to the Stub App!"}),e.jsx("p",{children:"This is a simple application to demonstrate the use of shared components."})]})}),e.jsx(fe,{isOpen:o,onClose:n,title:"About",size:"sm",children:e.jsx("p",{children:"This is a demonstration of a modal window."})})]})}function ve(){return e.jsx(ce,{children:e.jsx(he,{children:e.jsx(ye,{})})})}le.createRoot(document.getElementById("root")).render(e.jsx(O.StrictMode,{children:e.jsx(ve,{})}));

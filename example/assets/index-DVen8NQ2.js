import{r as h,j as e,u as se,c as $,i as xe,P as pe,z as he,E as we,g as ye,F as ve,a as be,b as je,d as ke,e as Ce,f as oe,h as ae,L as Ne,k as ie,q as Re,l as Se,m as Me,n as Te,o as Ee,p as Fe,R as Ie,s as Le}from"./other-Q-IbXWLF.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))u(c);new MutationObserver(c=>{for(const r of c)if(r.type==="childList")for(const m of r.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&u(m)}).observe(document,{childList:!0,subtree:!0});function s(c){const r={};return c.integrity&&(r.integrity=c.integrity),c.referrerPolicy&&(r.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?r.credentials="include":c.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(c){if(c.ep)return;c.ep=!0;const r=s(c);fetch(c.href,r)}})();const ge=h.createContext(void 0),Ae=({children:i})=>{const[t,s]=h.useState(()=>{if(typeof window<"u"){const r=localStorage.getItem("theme");return r==="light"||r==="dark"?r:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}return"light"});h.useEffect(()=>{if(typeof window>"u")return;const r=window.matchMedia("(prefers-color-scheme: dark)"),m=p=>{localStorage.getItem("theme")||s(p.matches?"dark":"light")};return r.addEventListener("change",m),()=>{r.removeEventListener("change",m)}},[]),h.useEffect(()=>{const r=window.document.documentElement;t==="dark"?r.classList.add("dark"):r.classList.remove("dark")},[t]);const u=()=>{s(r=>{const m=r==="light"?"dark":"light";return localStorage.setItem("theme",m),m})},c=h.useMemo(()=>({theme:t,toggleTheme:u}),[t]);return e.jsx(ge.Provider,{value:c,children:i})},G=()=>{const i=h.useContext(ge);if(i===void 0)throw new Error("useTheme must be used within a ThemeProvider");return i},te=i=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},ne=({r:i,g:t,b:s})=>{i/=255,t/=255,s/=255;const u=Math.max(i,t,s),c=Math.min(i,t,s);let r=0,m=0,p=u;const a=u-c;if(m=u===0?0:a/u,u!==c){switch(u){case i:r=(t-s)/a+(t<s?6:0);break;case t:r=(s-i)/a+2;break;case s:r=(i-t)/a+4;break}r/=6}return{h:r,s:m,v:p}},U=({h:i,s:t,v:s})=>{let u=0,c=0,r=0;const m=Math.floor(i*6),p=i*6-m,a=s*(1-t),g=s*(1-p*t),y=s*(1-(1-p)*t);switch(m%6){case 0:u=s,c=y,r=a;break;case 1:u=g,c=s,r=a;break;case 2:u=a,c=s,r=y;break;case 3:u=a,c=g,r=s;break;case 4:u=y,c=a,r=s;break;case 5:u=s,c=a,r=g;break}return{r:Math.round(u*255),g:Math.round(c*255),b:Math.round(r*255)}},Y=({r:i,g:t,b:s})=>"#"+((1<<24)+(i<<16)+(t<<8)+s).toString(16).slice(1),ce=i=>{const t=U(i),s=t.r/255,u=t.g/255,c=t.b/255,r=s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4),m=u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4),p=c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4);return .2126*r+.7152*m+.0722*p>.5?"#000000":"#FFFFFF"},Oe=({initialColors:i,onChange:t,width:s="100%",height:u=200,labels:c})=>{const{theme:r}=G(),[m,p]=h.useState(()=>i.map(o=>{const n=te(o);return n?ne(n):{h:0,s:1,v:1}})),[a,g]=h.useState(0),[y,k]=h.useState(null),[F,M]=h.useState([]),[P,H]=h.useState([]),[A,j]=h.useState(0),[T,N]=h.useState(0),b=h.useRef(null),R=h.useRef(null),v=h.useRef(null),I=h.useRef(null);h.useEffect(()=>{p(i.map(o=>{const n=te(o);return n?ne(n):{h:0,s:1,v:1}})),a>=i.length&&g(0)},[i,a]);const D=m[a]||{h:0,s:1,v:1},W=h.useCallback(()=>{const o=b.current;if(!o)return;const n=o.getContext("2d");if(!n)return;const{width:f,height:l}=o,d=m[y??a]||D,x=Y(U({h:d.h,s:1,v:1}));n.clearRect(0,0,f,l);const w=n.createLinearGradient(0,0,f,0);w.addColorStop(0,"rgba(255,255,255,1)"),w.addColorStop(1,"rgba(255,255,255,0)");const C=n.createLinearGradient(0,0,0,l);C.addColorStop(0,"rgba(0,0,0,0)"),C.addColorStop(1,"rgba(0,0,0,1)"),n.fillStyle=x,n.fillRect(0,0,f,l),n.fillStyle=w,n.fillRect(0,0,f,l),n.fillStyle=C,n.fillRect(0,0,f,l)},[D,m,a,y]),B=h.useCallback(()=>{const o=R.current;if(!o)return;const n=o.getContext("2d");if(!n)return;const{width:f,height:l}=o;n.clearRect(0,0,f,l);const d=n.createLinearGradient(0,0,f,0);for(let x=0;x<=360;x+=60)d.addColorStop(x/360,`hsl(${x}, 100%, 50%)`);n.fillStyle=d,n.fillRect(0,0,f,l)},[]),E=h.useCallback(()=>{W(),B()},[W,B]);h.useEffect(()=>{const o=v.current,n=I.current;if(o&&n){const f=new ResizeObserver(()=>{j(o.getBoundingClientRect().width),N(n.getBoundingClientRect().height)});return f.observe(o),j(o.getBoundingClientRect().width),N(n.getBoundingClientRect().height),()=>f.disconnect()}},[]),h.useEffect(()=>{const o=b.current,n=R.current;o&&n&&A>0&&T>0&&(o.width=A,o.height=T,n.width=A,n.height=48,E())},[A,T,E]),h.useEffect(()=>{E()},[D,E]);const O=(o,n)=>{const f=n??a,l=m[f];if(!l)return;const d={...l,...o};o.h!==void 0&&l.s===0&&(d.s=1);const x=[...m];x[f]=d,p(x),t(x.map(w=>Y(U(w))))},_=(o,n,f)=>{if(!f)return[];const l=f.getBoundingClientRect(),d=[],w=40/2;return m.forEach((C,L)=>{const z=C.s*l.width,S=(1-C.v)*l.height;Math.abs(o-z)<w&&Math.abs(n-S)<w&&d.push(L)}),d.sort((C,L)=>C-L)},X=(o,n)=>{if(!n)return[];const f=n.getBoundingClientRect(),l=[],x=40/2;return m.forEach((w,C)=>{const L=w.h*f.width;Math.abs(o-L)<x&&l.push(C)}),l.sort((w,C)=>w-C)},Q=se({onClick:({event:o})=>{const n=o.currentTarget.getBoundingClientRect(),f=o.clientX-n.left,l=o.clientY-n.top,d=_(f,l,b.current);if(d.length>0){const x=d.indexOf(a);if(x!==-1){const w=(x+1)%d.length;g(d[w])}else g(d[0])}else{if(!b.current)return;const w=Math.max(0,Math.min(1,f/n.width)),C=Math.max(0,Math.min(1,1-l/n.height));O({s:w,v:C},a)}},onDragStart:({event:o})=>{const n=o.currentTarget.getBoundingClientRect(),f=o.clientX-n.left,l=o.clientY-n.top,d=_(f,l,b.current),x=d.includes(a);let w=a;if(d.length>0&&!x)w=d[0],g(w);else if(d.length===0){if(!b.current)return;const L=Math.max(0,Math.min(1,f/n.width)),z=Math.max(0,Math.min(1,1-l/n.height));O({s:L,v:z},a)}k(w)},onDrag:({event:o,down:n})=>{if(o.preventDefault(),y===null||!n)return;const f=y,l=b.current;if(!l)return;const d=l.getBoundingClientRect(),x=o.clientX,w=o.clientY;if(x>=d.left&&x<=d.right&&w>=d.top&&w<=d.bottom){const C=(x-d.left)/d.width,L=1-(w-d.top)/d.height;O({s:C,v:L},f)}},onDragEnd:()=>{k(null)},onPointerMove:({event:o,dragging:n})=>{if(n)return;const f=o.currentTarget.getBoundingClientRect(),l=o.clientX-f.left,d=o.clientY-f.top,x=_(l,d,b.current);M(x)},onPointerLeave:()=>{M([])}},{drag:{threshold:3,filterTaps:!0},eventOptions:{passive:!1}}),Z=se({onClick:({event:o})=>{const n=o.currentTarget.getBoundingClientRect(),f=o.clientX-n.left,l=X(f,R.current);if(l.length>0){const d=l.indexOf(a);if(d!==-1){const x=(d+1)%l.length;g(l[x])}else g(l[0])}else{if(!R.current)return;const x=Math.max(0,Math.min(1,f/n.width));O({h:x},a)}},onDragStart:({event:o})=>{const n=o.currentTarget.getBoundingClientRect(),f=o.clientX-n.left,l=X(f,R.current),d=l.includes(a);let x=a;if(l.length>0&&!d)x=l[0],g(x);else if(l.length===0){if(!R.current)return;const C=Math.max(0,Math.min(1,f/n.width));O({h:C},a)}k(x)},onDrag:({event:o,down:n})=>{if(o.preventDefault(),y===null||!n)return;const f=y,l=R.current;if(!l)return;const d=l.getBoundingClientRect(),x=o.clientX;if(x>=d.left&&x<=d.right){const w=(x-d.left)/d.width;O({h:w},f)}},onDragEnd:()=>{k(null)},onPointerMove:({event:o,dragging:n})=>{if(n)return;const f=o.currentTarget.getBoundingClientRect(),l=o.clientX-f.left,d=X(l,R.current);H(d)},onPointerLeave:()=>{H([])}},{drag:{threshold:3,filterTaps:!0},eventOptions:{passive:!1}}),J=(o,n,f)=>{const l=o.s*(b.current?.width??0),d=(1-o.v)*(b.current?.height??0),x=n===a,w=n===y,C=c?.[n],L=ce(o);let z=L;return f&&(z=L==="#FFFFFF"?"#FFFF00":"darkgoldenrod"),e.jsx("div",{className:$("absolute rounded-full flex items-center justify-center font-bold",x||w?"w-10 h-10 -translate-x-5 -translate-y-5 border-2 text-xl":"w-6 h-6 -translate-x-3 -translate-y-3 border-2 text-sm"),style:{left:l,top:d,borderColor:z,backgroundColor:Y(U(o)),color:L,userSelect:"none"},children:C},`plane-marker-${n}`)},K=(o,n,f)=>{const l=o.h*(R.current?.width??0),d=n===a,x=n===y,w=c?.[n],C=ce({h:o.h,s:1,v:1});let L=C;return f&&(L=C==="#FFFFFF"?"#FFFF00":"darkgoldenrod"),e.jsx("div",{className:$("absolute top-0 rounded-full flex items-center justify-center font-bold",d||x?"h-10 w-10 -translate-x-5 translate-y-1 border-2 text-xl":"h-12 w-6 -translate-x-3 border-2 text-sm"),style:{left:l,borderColor:L,backgroundColor:Y(U({h:o.h,s:1,v:1})),color:C,userSelect:"none"},children:w},`hue-marker-${n}`)},V=(o,n,f)=>{const l=o.length;if(l===0)return[];let d=-1;if(n.length>0){const S=n.indexOf(a);if(S!==-1){const me=(S+1)%n.length;d=n[me]}else d=n[0]}const x=[];for(let S=1;S<l;S++)x.push((a+l-S)%l);const w=x.filter(S=>n.includes(S)&&S!==a);return[...x.filter(S=>!n.includes(S)),a,...w].filter(S=>S>=0&&S<l).map(S=>f(o[S],S,S===d))};return e.jsxs("div",{ref:v,style:{width:s},className:"flex flex-col gap-5",children:[e.jsxs("div",{ref:I,className:"relative cursor-pointer",style:{height:u,touchAction:"none"},...Q(),children:[e.jsx("canvas",{ref:b}),V(m,F,J)]}),e.jsxs("div",{className:"relative cursor-pointer h-12",style:{touchAction:"none"},...Z(),children:[e.jsx("canvas",{ref:R,height:48}),V(m,P,K)]})]})},re=i=>{if(i.startsWith("#")||i.startsWith("/"))return!1;try{return new URL(i,window.location.origin).hostname!==window.location.hostname}catch{return!1}},$e=()=>new URLSearchParams(window.location.hash.substring(1)),He=()=>typeof window<"u"&&!!window?.__TAURI__,Pe=()=>typeof navigator<"u"&&/android/i.test(navigator.userAgent),De=()=>{if(typeof navigator>"u")return!1;const i=navigator.userAgent;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(i))return!0;if(typeof window<"u"&&typeof window.matchMedia=="function")try{return window.matchMedia("(pointer: coarse), (max-width: 768px)").matches}catch{}return!1},We=()=>He()&&Pe(),Be=De()?"xl":"md",ee={sm:{button:"px-2 py-1 text-xs",item:"px-3 py-1 text-xs"},md:{button:"px-3 py-1.5 text-sm",item:"px-4 py-2 text-sm"},lg:{button:"px-4 py-2 text-base",item:"px-4 py-2 text-base"},xl:{button:"px-6 py-2.5 text-lg",item:"px-5 py-3 text-lg"}},q=({label:i,options:t,selected:s,onChange:u,theme:c,size:r=Be,align:m="left",icon:p,showIconOnly:a,width:g,iconOnlySize:y,trigger:k,buttonClassName:F})=>{const M=h.useRef(null),[P,H]=h.useState({}),A=G?.(),j=c??A?.theme??"light",T=()=>{if(M.current){const v=M.current.getBoundingClientRect(),I={top:`${v.bottom+4}px`,minWidth:`${v.width}px`};m==="left"?I.left=`${v.left}px`:I.right=`${window.innerWidth-v.right}px`,H(I)}},N=r==="sm"?"h-4 w-4":r==="md"||r==="lg"?"h-5 w-5":"h-6 w-6",R=t?.find(v=>v?.name===s)?.icon??p;return e.jsxs(xe,{as:"div",className:"relative",style:!a&&g?{width:`${g}px`}:void 0,children:[e.jsx(pe,{ref:M,onClick:T,className:$(k?F:a?["p-2 rounded-full focus:outline-none",j==="dark"?"hover:bg-gray-700":"hover:bg-gray-100"]:["flex justify-between items-center w-full rounded-md border shadow-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2",ee[r].button,j==="dark"?"border-gray-700 bg-gray-800 text-white hover:bg-gray-700 focus:ring-offset-gray-900 focus:ring-indigo-500":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-offset-gray-100 focus:ring-indigo-500"]),children:k||(a?e.jsx("span",{className:$(!y&&N,"flex items-center justify-center","[&>img]:h-full [&>img]:w-full [&>img]:object-contain","[&>svg]:h-full [&>svg]:w-full"),style:y?{width:`${y}px`,height:`${y}px`}:void 0,children:R}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"flex items-center truncate",children:[R&&e.jsx("span",{className:$(N,"mr-2 flex items-center justify-center","[&>img]:h-full [&>img]:w-full [&>img]:object-contain","[&>svg]:h-full [&>svg]:w-full"),children:R}),i&&`${i}: `,e.jsx("strong",{children:s})]}),e.jsx("span",{className:"ml-2 text-xs",children:"▼"})]}))}),e.jsx(he,{as:h.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:e.jsx(we,{style:P,className:$("fixed z-50 mt-1 w-auto rounded-md shadow-lg ring-1 ring-opacity-5 focus:outline-none",{"origin-top-left":m==="left","origin-top-right":m==="right"},j==="dark"?"bg-gray-800 ring-gray-400 border border-gray-600":"bg-white ring-black"),children:e.jsx("div",{className:"py-1",children:t.map((v,I)=>{if(v===null)return e.jsx("div",{className:"my-1 h-px bg-gray-200 dark:bg-gray-700"},`divider-${I}`);const D=v.key??v.value??v.name??I,W=!!v.href,B=v.href?re(v.href):!1;return e.jsx(ye,{disabled:v.disabled,children:({focus:E,disabled:O})=>W&&!O?e.jsxs("a",{href:v.href,target:B?"_blank":"_self",rel:"noopener noreferrer",className:$("flex items-center justify-between w-full whitespace-nowrap",ee[r].item,E?j==="dark"?"bg-gray-700 text-white":"bg-gray-100 text-gray-900":j==="dark"?"text-gray-300":"text-gray-700"),children:[e.jsxs("div",{className:"flex items-center",children:[v.icon&&e.jsx("span",{className:"mr-3 h-5 w-5",children:v.icon}),v.name]}),B&&e.jsx(ve,{className:"h-4 w-4"})]}):e.jsx("button",{onClick:()=>u&&u(v.value),disabled:O,className:$("w-full text-left block whitespace-nowrap",ee[r].item,O?j==="dark"?"text-gray-500":"text-gray-400":E?j==="dark"?"bg-gray-700 text-white":"bg-gray-100 text-gray-900":j==="dark"?"text-gray-300":"text-gray-700",O&&"cursor-not-allowed"),children:e.jsxs("div",{className:"flex items-center",children:[v.icon&&e.jsx("span",{className:"mr-3 h-5 w-5",children:v.icon}),v.name]})})},D)})})})})]})},_e=({client:i,slot:t,style:s={display:"block"},format:u="auto",responsive:c="true"})=>(h.useEffect(()=>{try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(r){console.error("AdSense error:",r)}},[]),e.jsx("ins",{className:"adsbygoogle",style:s,"data-ad-client":i,"data-ad-slot":t,"data-ad-format":u,"data-full-width-responsive":c})),fe=h.createContext(void 0),ze=({children:i,defaultLanguage:t="en",storageKey:s="language"})=>{const[u,c]=h.useState(()=>{if(typeof window<"u"){const a=localStorage.getItem(s);if(a==="en"||a==="zh")return a;if((navigator?.language?.toLowerCase()||"").startsWith("zh"))return"zh"}return t});h.useEffect(()=>{typeof window<"u"&&localStorage.setItem(s,u)},[u,s]);const r=a=>c(a),m=()=>c(a=>a==="en"?"zh":"en"),p=h.useMemo(()=>({language:u,setLanguage:r,toggleLanguage:m}),[u]);return e.jsx(fe.Provider,{value:p,children:i})},Xe=()=>{const i=h.useContext(fe);if(!i)throw new Error("useLanguage must be used within a LanguageProvider");return i},Ue=({appName:i,help:t,config:s,showUserProfile:u,renderToolbar:c,showLanguage:r,language:m,onLanguageChange:p,appIconUrl:a,showTitle:g=!0,toolbarWidthPx:y=0})=>{const{theme:k,toggleTheme:F}=G(),{setLanguage:M}=Xe(),P=()=>{if(!t)return null;if(typeof t=="string")return e.jsx("a",{href:t,target:re(t)?"_blank":"_self",rel:"noopener noreferrer",className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(oe,{className:"h-8 w-8"})});if(Array.isArray(t)&&t.length>0){const N=t.map(b=>({name:b.name,href:b.href,icon:b.icon}));return e.jsx(q,{options:N,align:"right",icon:e.jsx(oe,{}),showIconOnly:!0,iconOnlySize:32})}return null},H=()=>{if(!s)return null;if(typeof s=="string")return e.jsx("a",{href:s,target:re(s)?"_blank":"_self",rel:"noopener noreferrer",className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(ae,{className:"h-8 w-8"})});if(Array.isArray(s)&&s.length>0){const N=s.map(b=>({name:b.name,href:b.href,icon:b.icon}));return e.jsx(q,{options:N,align:"right",icon:e.jsx(ae,{}),showIconOnly:!0,iconOnlySize:32})}return null},A=N=>{p?.(N);try{M(N)}catch{}},j=typeof window<"u"&&$e().get("applink")||void 0,T=()=>r?e.jsx(q,{options:[{name:"English",value:"en"},{name:"中文",value:"zh"}],align:"right",icon:e.jsx(Ce,{}),showIconOnly:!0,iconOnlySize:32,onChange:N=>A(N)}):null;return e.jsxs("header",{className:"bg-gray-100 dark:bg-gray-800 pt-4 pb-1 px-4 flex items-center border-b border-gray-200 dark:border-gray-700 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a&&(j?e.jsx("a",{href:j,className:"inline-block",title:j,children:e.jsx("img",{src:a,alt:"App icon",className:"h-12 w-12 rounded cursor-pointer hover:opacity-90"})}):e.jsx("img",{src:a,alt:"App icon",className:"h-12 w-12 rounded"})),g&&e.jsx("h1",{className:"text-xl font-bold truncate",children:i})]}),e.jsx("div",{className:"flex-1 min-w-0",children:typeof c=="function"?c(y):null}),e.jsxs("nav",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:F,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:k==="light"?e.jsx(be,{className:"h-8 w-8"}):e.jsx(je,{className:"h-8 w-8"})}),T(),P(),H(),u&&e.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(ke,{className:"h-8 w-8"})})]})]})},Ge=({children:i,adSenseConfig:t,...s})=>{const[u,c]=h.useState(!0),[r,m]=h.useState("medium"),[p,a]=h.useState(typeof window<"u"?window.innerWidth:0),[g,y]=h.useState(typeof window<"u"?window.visualViewport?.height??window.innerHeight:0),k=t?.client&&t?.slot,F=!!s.renderToolbar,M=We();h.useEffect(()=>{const b=()=>{const I=(window.visualViewport?.height??window.innerHeight)*.01;document.documentElement.style.setProperty("--vh",`${I}px`)},R=()=>{c(F||(window.visualViewport?.height??window.innerHeight)>=600);const I=window.innerWidth,D=window.visualViewport?.height??window.innerHeight;a(I),y(D);const W=I<640,B=I>=1024;m(W?"narrow":B?"wide":"medium"),b()};R();const v=window.visualViewport??window;return v.addEventListener("resize",R),()=>{v.removeEventListener("resize",R)}},[]);const P=k?t?.height??90:0,H=k?t?.width??300:0,A=k&&r==="wide",j=r==="narrow"?!1:r==="wide"?!0:!F,T=()=>{const b=p,R=32,v=12,I=48,D=8,W=s.appIconUrl?32:0,B=220;let E=0;E+=1,s.showLanguage&&(E+=1);const O=s.help;(typeof O=="string"||Array.isArray(O)&&O.length>0)&&(E+=1);const _=s.config;(typeof _=="string"||Array.isArray(_)&&_.length>0)&&(E+=1),s.showUserProfile&&(E+=1);const X=E>0?E*I+(E-1)*D:0,Q=j&&W>0?8:0,Z=j?B:0,J=W+Q+Z,K=F?2*v:v,V=b-R-J-X-K;return Math.max(0,V)},N=e.jsxs("div",{className:"w-full h-full flex flex-col bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100 overflow-hidden",style:M?{paddingTop:16,paddingBottom:12}:void 0,children:[u&&e.jsx(Ue,{...s,showTitle:j,toolbarWidthPx:F?T():0}),e.jsx("main",{className:"flex-grow min-h-0 p-0",children:i})]});return k?e.jsxs("div",{className:"flex items-stretch flex-"+(A?"row":"col"),children:[e.jsx("div",{style:A?{width:`${Math.max(0,p-H)}px`,height:`${g}px`}:{width:`${p}px`,height:`${Math.max(0,g-P)}px`},children:N}),e.jsx("div",{style:A?{width:`${H}px`,height:`${g}px`}:{width:`${p}px`,height:`${P}px`},children:e.jsx(_e,{client:t.client,slot:t.slot})})]}):e.jsx("div",{style:{width:`${p}px`,height:`${g}px`},children:N})},Ve=({isOpen:i,onClose:t,title:s,children:u,size:c="lg"})=>{const{theme:r}=G(),m=p=>{switch(p){case"sm":return"w-80 max-w-sm max-h-60";case"md":return"w-10/12 max-w-2xl max-h-[70vh]";case"lg":return"w-11/12 max-w-4xl max-h-[80vh]";case"xl":return"w-full max-w-6xl max-h-[90vh]";default:return"w-11/12 max-w-4xl max-h-[80vh]"}};return e.jsx(he,{appear:!0,show:i,as:h.Fragment,children:e.jsxs(Ne,{as:"div",className:$("relative z-50",r),onClose:t,children:[e.jsx(ie,{as:h.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-0 text-center",children:e.jsx(ie,{as:h.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(Re,{className:$(m(c),"transform rounded-2xl bg-white dark:bg-gray-800 p-6 text-left align-middle shadow-xl transition-all flex flex-col border border-gray-200 dark:border-gray-600 overflow-y-hidden"),children:[e.jsx(Se,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 dark:text-gray-100",children:s}),e.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(Me,{className:"h-6 w-6 text-gray-900 dark:text-gray-100"})}),e.jsx("div",{className:"mt-4 flex-1 text-gray-900 dark:text-gray-100 overflow-y-auto",children:u})]})})})})]})})},Ye=({label:i,min:t,max:s,value:u,onChange:c,theme:r,valueLabel:m=g=>Math.round(g),posToVal:p=g=>t+(s-t)*g,valToPos:a=g=>(g-t)/(s-t)})=>{const g=h.useRef(null),y=h.useCallback(j=>{if(g.current){const T=g.current.getBoundingClientRect(),N=Math.max(0,Math.min(1,(j-T.left)/T.width));c(p(N))}},[c,p]),k=j=>{j.preventDefault(),y(j.clientX);const T=b=>{y(b.clientX)},N=()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",N)};document.addEventListener("mousemove",T),document.addEventListener("mouseup",N)},F=j=>{j.preventDefault(),j.touches.length>0&&y(j.touches[0].clientX);const T=b=>{b.touches.length>0&&y(b.touches[0].clientX)},N=()=>{document.removeEventListener("touchmove",T),document.removeEventListener("touchend",N)};document.addEventListener("touchmove",T),document.addEventListener("touchend",N)},M=a(u),P=r==="dark"?"0 1px 2px rgba(0, 0, 0, 0.5)":"0 1px 2px rgba(255, 255, 255, 0.2)",H=M>.5,A=M>.25&&M<.5||M>.75;return e.jsx("div",{className:"w-full px-3",children:e.jsxs("div",{ref:g,onMouseDown:k,onTouchStart:F,className:"relative w-full h-6 cursor-pointer",style:{touchAction:"none"},children:[e.jsx("div",{className:$("w-full h-full rounded-full",r==="dark"?"bg-gray-700":"bg-gray-300")}),e.jsx("div",{className:$("absolute top-0 left-0 h-full rounded-full",r==="dark"?"bg-indigo-500":"bg-indigo-600"),style:{width:`${M*100}%`}}),e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i&&e.jsx("span",{className:$("absolute top-1/2 -translate-y-1/2 text-xs font-medium",r==="dark"?"text-gray-200":H?"text-white":"text-gray-800"),style:{...H?{left:"10px"}:{right:"10px"},textShadow:H?P:"none"},children:i}),e.jsx("span",{className:$("absolute top-1/2 -translate-y-1/2 text-xs font-mono",r==="dark"?"text-gray-200":A?"text-white":"text-gray-800"),style:{...A?{right:`calc(${100-M*100}% + 14px)`}:{left:`calc(${M*100}% + 14px)`},textShadow:A?P:"none"},children:m(u)})]}),e.jsx("div",{className:$("absolute top-0 w-6 h-6 rounded-full shadow-md z-10",r==="dark"?"bg-sky-400":"bg-sky-500"),style:{left:`calc(${M*100}% - 12px)`}})]})})},le=()=>{const i="0123456789ABCDEF";let t="#";for(let s=0;s<6;s++)t+=i[Math.floor(Math.random()*16)];return t},qe=()=>{const{theme:i}=G(),[t,s]=h.useState(3),[u,c]=h.useState(!0),[r,m]=h.useState(()=>Array.from({length:t},le)),p=g=>{s(Math.round(g))};h.useEffect(()=>{const g=r.length;if(t>g){const y=Array.from({length:t-g},le);m(k=>[...k,...y])}else t<g&&m(y=>y.slice(0,t))},[t,r.length]);const a=g=>{m(g)};return e.jsx("div",{className:"w-full h-full overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-2xl mx-auto p-4 sm:p-6 lg:p-8 flex flex-col gap-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-center",children:"Color Picker Test Page"}),e.jsxs("div",{className:"w-full flex items-center gap-4",children:[e.jsx("div",{className:"flex-grow",children:e.jsx(Ye,{label:"Number of Colors",min:1,max:10,value:t,onChange:p,theme:i})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"with-labels",checked:u,onChange:g=>c(g.target.checked),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"with-labels",children:"With Labels"})]})]}),e.jsx(Oe,{initialColors:r,onChange:a,labels:u?"123456789":""}),e.jsxs("div",{className:"mt-4 p-4 rounded-lg bg-gray-100 dark:bg-gray-800",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Color Values"}),e.jsx("div",{className:"font-mono text-sm space-y-2",children:r.map((g,y)=>{const k=te(g),F=k?ne(k):null;return e.jsxs("div",{className:"flex items-center gap-4 p-2 rounded-md bg-gray-200 dark:bg-gray-700",children:[e.jsx("div",{className:"w-6 h-6 rounded-full border",style:{backgroundColor:g}}),e.jsx("span",{children:`HEX: ${g}`}),e.jsx("span",{children:`RGB: ${k?`${k.r}, ${k.g}, ${k.b}`:"N/A"}`}),e.jsx("span",{children:`HSV: ${F?`${F.h.toFixed(2)}, ${F.s.toFixed(2)}, ${F.v.toFixed(2)}`:"N/A"}`})]},y)})})]})]})})};var Qe={client:"ca-pub-5400548434612970",slot:"5745481735"};const Ze=()=>e.jsxs("div",{className:"p-2 md:p-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Libs Code Testing Environment"}),e.jsx("p",{children:"This application is for testing components from the libs packages."})]}),de={"/":Ze,"/color-picker":qe},ue=[{name:"Color Picker Test",href:"#/color-picker"}],Je=[{key:"intro",name:"Introduction",href:"#/",icon:e.jsx(Ee,{className:"h-5 w-5"})},{key:"about",name:"About",href:"#about",icon:e.jsx(Fe,{className:"h-5 w-5"})}];function Ke(){const[i,t]=h.useState(!1),[s,u]=h.useState(window.location.hash.startsWith("#/")?window.location.hash.slice(1):"/");h.useEffect(()=>{const p=()=>{window.location.hash==="#about"?t(!0):window.location.hash.startsWith("#/")?u(window.location.hash.slice(1)):u("/")};return window.addEventListener("hashchange",p),p(),()=>{window.removeEventListener("hashchange",p)}},[]);const c=()=>{t(!1),window.location.hash==="#about"&&history.pushState("",document.title,window.location.pathname+window.location.search)},r=de[s]||de["/"],m=ue.find(p=>p.href===`#${s}`)?.name||"Select a test page";return e.jsx(Ae,{children:e.jsxs(ze,{children:[e.jsx(Ge,{appName:"Example Webapp",appIconUrl:"app-icon.png",help:Je,showUserProfile:!0,showLanguage:!0,adSenseConfig:Qe,renderToolbar:p=>{const g=p<280;return e.jsx(q,{options:ue,selected:m,icon:e.jsx(Te,{}),showIconOnly:g,width:280,iconOnlySize:32})},children:e.jsx(r,{})}),e.jsx(Ve,{isOpen:i,onClose:c,title:"About",size:"sm",children:e.jsx("p",{children:"This project is for testing components and code from the libs packages."})})]})})}Ie.createRoot(document.getElementById("root")).render(e.jsx(Le.StrictMode,{children:e.jsx(Ke,{})}));
